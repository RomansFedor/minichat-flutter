# üî• FIREBASE CRASHLYTICS - –ö–û–†–û–¢–ö–ï –ü–û–Ø–°–ù–ï–ù–ù–Ø

## –©–æ —Ç–∞–∫–µ Firebase Crashlytics?

**Firebase Crashlytics** ‚Äî —Ü–µ —Å–µ—Ä–≤—ñ—Å –≤—ñ–¥ Google, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—î —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—î –∑–≤—ñ—Ç–∏ –ø—Ä–æ –∑–±–æ—ó —Ç–∞ –ø–æ–º–∏–ª–∫–∏ –≤ –º–æ–±—ñ–ª—å–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

## –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

- üìä **–ó–±—ñ—Ä –∑–≤—ñ—Ç—ñ–≤** –ø—Ä–æ –∑–±–æ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- üîç **–ê–Ω–∞–ª—ñ–∑ –ø–æ–º–∏–ª–æ–∫** –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** —á–∞—Å—Ç–æ—Ç–∏ –∑–±–æ—ó–≤
- üêõ **Stack traces** –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤
- üë• **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**, —è–∫—ñ –∑—ñ—Ç–∫–Ω—É–ª–∏—Å—è –∑ –ø–æ–º–∏–ª–∫–∞–º–∏

---

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –ø—Ä–æ—î–∫—Ç MiniChat

### 1. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```yaml
# pubspec.yaml
dependencies:
  firebase_crashlytics: ^4.1.0
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ main.dart

```dart
// lib/main.dart
import 'package:firebase_crashlytics/firebase_crashlytics.dart';

Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();

  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );

  // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ Flutter
  FlutterError.onError = FirebaseCrashlytics.instance.recordFlutterFatalError;

  // –û–±—Ä–æ–±–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫
  runZonedGuarded<Future<void>>(
    () async => runApp(const MiniChatApp()),
    (error, stack) => FirebaseCrashlytics.instance.recordError(
      error, 
      stack, 
      fatal: true,
    ),
  );
}
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. FlutterError.onError

```dart
FlutterError.onError = FirebaseCrashlytics.instance.recordFlutterFatalError;
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ü–µ—Ä–µ—Ö–æ–ø–ª—é—î –≤—Å—ñ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –ø–æ–º–∏–ª–∫–∏ Flutter
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î —ó—Ö —É Crashlytics

### 2. runZonedGuarded

```dart
runZonedGuarded<Future<void>>(
  () async => runApp(const MiniChatApp()),
  (error, stack) => FirebaseCrashlytics.instance.recordError(
    error, 
    stack, 
    fatal: true,
  ),
);
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ü–µ—Ä–µ—Ö–æ–ø–ª—é—î –≤—Å—ñ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –ø–æ–º–∏–ª–∫–∏ (Future, Stream)
- –ó–∞–ø–∏—Å—É—î —ó—Ö —É Crashlytics –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ —Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤

---

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–¥—ñ

### –õ–æ–≥—É–≤–∞–Ω–Ω—è –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –ø–æ–¥—ñ–π

```dart
// –ó–∞–ø–∏—Å–∞—Ç–∏ –ª–æ–≥ –±–µ–∑ –∫—Ä–∞—à—É
await FirebaseCrashlytics.instance.log('User clicked create chat button');
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—Ä–∞—à—É (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)

```dart
// –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—Ä–∞—à—É –≤ AppBar
IconButton(
  icon: const Icon(Icons.bug_report, color: Colors.redAccent),
  tooltip: 'Test Crash',
  onPressed: () async {
    await FirebaseCrashlytics.instance.log('Manual test crash');
    FirebaseCrashlytics.instance.crash(); // –í–∏–∫–ª–∏–∫–∞—î –∑–±—ñ–π
  },
)
```

**–£–≤–∞–≥–∞!** –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—Ä–∞—à—É –º–∞—î –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∞ –≤ production –≤–µ—Ä—Å—ñ—ó.

### –ö–∞—Å—Ç–æ–º–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

```dart
try {
  // –Ø–∫–∏–π—Å—å –∫–æ–¥
} catch (e, stackTrace) {
  // –ó–∞–ø–∏—Å–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É –≤ Crashlytics
  await FirebaseCrashlytics.instance.recordError(
    e,
    stackTrace,
    fatal: false, // –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞
    reason: '–ü–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∞—Ç—É',
  );
}
```

---

## –©–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –≤ Crashlytics

1. **Stack trace** ‚Äî –ø–æ–≤–Ω–∏–π —à–ª—è—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –¥–æ –ø–æ–º–∏–ª–∫–∏
2. **–¢–∏–ø –ø–æ–º–∏–ª–∫–∏** ‚Äî –Ω–∞–∑–≤–∞ Exception
3. **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** ‚Äî –æ–ø–∏—Å –ø–æ–º–∏–ª–∫–∏
4. **–ú–µ—Ç–∞–¥–∞–Ω—ñ** ‚Äî –≤–µ—Ä—Å—ñ—è –¥–æ–¥–∞—Ç–∫—É, –º–æ–¥–µ–ª—å –ø—Ä–∏—Å—Ç—Ä–æ—é, –û–°
5. **–ö–∞—Å—Ç–æ–º–Ω—ñ –ª–æ–≥–∏** ‚Äî –∑–∞–ø–∏—Å–∏, –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ `log()`

---

## –ü–µ—Ä–µ–≤–∞–≥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–±—ñ—Ä** ‚Äî –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ–¥ –¥–ª—è –∫–æ–∂–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏  
‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è** ‚Äî –ø–æ–≤–Ω–∏–π stack trace —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç  
‚úÖ **Real-time** ‚Äî –ø–æ–º–∏–ª–∫–∏ –∑'—è–≤–ª—è—é—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ Firebase –æ–¥—Ä–∞–∑—É  
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —á–∞—Å—Ç–æ—Ç–∏ —Ç–∞ –≤–ø–ª–∏–≤—É –ø–æ–º–∏–ª–æ–∫  
‚úÖ **–ì—Ä—É–ø—É–≤–∞–Ω–Ω—è** ‚Äî –ø–æ–¥—ñ–±–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –≥—Ä—É–ø—É—é—Ç—Å—è —Ä–∞–∑–æ–º  

---

## –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

### –°—Ü–µ–Ω–∞—Ä—ñ–π:
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É "–°—Ç–≤–æ—Ä–∏—Ç–∏ —á–∞—Ç"
2. –í–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ
3. Crashlytics –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:
   - –¢–∏–ø –ø–æ–º–∏–ª–∫–∏ (Exception)
   - Stack trace
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç (—è–∫–∏–π –µ–∫—Ä–∞–Ω, —è–∫–∞ –¥—ñ—è)
   - –í–µ—Ä—Å—ñ—è –¥–æ–¥–∞—Ç–∫—É

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ó–≤—ñ—Ç –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ Firebase Console
- –†–æ–∑—Ä–æ–±–Ω–∏–∫ –±–∞—á–∏—Ç—å –¥–µ—Ç–∞–ª—ñ –ø–æ–º–∏–ª–∫–∏
- –ú–æ–∂–µ —à–≤–∏–¥–∫–æ –∑–Ω–∞–π—Ç–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É

---

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### Android

```kotlin
// android/app/build.gradle.kts
plugins {
    id("com.google.firebase.crashlytics")
}
```

### iOS

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ CocoaPods.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –ø—Ä–æ—î–∫—Ç—ñ

```
lib/
‚îî‚îÄ‚îÄ main.dart
    ‚îú‚îÄ‚îÄ Firebase.initializeApp()       // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
    ‚îú‚îÄ‚îÄ FlutterError.onError           // –û–±—Ä–æ–±–∫–∞ Flutter –ø–æ–º–∏–ª–æ–∫
    ‚îî‚îÄ‚îÄ runZonedGuarded                // –û–±—Ä–æ–±–∫–∞ async –ø–æ–º–∏–ª–æ–∫
```

---

## –ü—ñ–¥—Å—É–º–æ–∫

Firebase Crashlytics –≤ –ø—Ä–æ—î–∫—Ç—ñ MiniChat:

1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—î –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏
2. ‚úÖ –ó–∞–ø–∏—Å—É—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–±–æ—ó
3. ‚úÖ –ù–∞–¥–∞—î stack traces –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
4. ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î –∫–∞—Å—Ç–æ–º–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π
5. ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä—ñ–≤–Ω—ñ –¥–æ–¥–∞—Ç–∫—É (main.dart)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–æ–∑—Ä–æ–±–Ω–∏–∫ –æ—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ –≤ –¥–æ–¥–∞—Ç–∫—É –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –∫–æ–¥—É –≤ –∫–æ–∂–Ω–æ–º—É –º—ñ—Å—Ü—ñ.

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 2025  
**–í–µ—Ä—Å—ñ—è:** 1.0




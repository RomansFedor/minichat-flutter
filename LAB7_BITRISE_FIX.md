# üîß –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø –ü–û–ú–ò–õ–ö–ò BITRISE - Flutter/Dart SDK –≤–µ—Ä—Å—ñ—è

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–±—ñ—Ä—Ü—ñ –≤ Bitrise –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∞:

```
The current Dart SDK version is 3.4.0.
Because chat1 requires SDK version ^3.9.2, version solving failed.
```

**–ü—Ä–∏—á–∏–Ω–∞:** Flutter Installer –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—É –≤–µ—Ä—Å—ñ—é Flutter (3.24.0), —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å Dart SDK 3.4.0, –∞ –ø—Ä–æ—î–∫—Ç –ø–æ—Ç—Ä–µ–±—É—î Dart SDK ^3.9.2.

## –†—ñ—à–µ–Ω–Ω—è

–û–Ω–æ–≤–ª–µ–Ω–æ `bitrise.yml` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó Flutter —Ç–∞ –¥–æ–¥–∞–Ω–æ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –≤–µ—Ä—Å—ñ–π Dart.

### –ó–º—ñ–Ω–∏ –≤ bitrise.yml

**–ë—É–ª–æ:**
```yaml
- flutter-installer@0:
    inputs:
    - flutter_version: "3.24.0"
```

**–°—Ç–∞–ª–æ:**
```yaml
- flutter-installer@0:
    inputs:
    - channel: "stable"
    - is_update: "true"
- script@1:
    title: "Verify Flutter/Dart versions"
    is_always_run: true
    inputs:
    - content: |
        #!/bin/bash
        set -e
        echo "=== Flutter Version ==="
        flutter --version
        echo "=== Dart Version ==="
        dart --version
        echo "=== Verifying Dart SDK >= 3.9.2 ==="
        DART_VERSION=$(dart --version 2>&1 | grep -oE '[0-9]+\.[0-9]+\.[0-9]+' | head -1)
        echo "Detected Dart version: $DART_VERSION"
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
        ...
```

**–©–æ —Ä–æ–±–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
1. `flutter-installer` –∑ `channel: stable` —Ç–∞ `is_update: true` –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –æ—Å—Ç–∞–Ω–Ω—é —Å—Ç–∞–±—ñ–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é Flutter
2. –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–µ—Ä—Å—ñ—ó Flutter —Ç–∞ Dart
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ Dart SDK >= 3.9.2
4. –Ø–∫—â–æ –≤–µ—Ä—Å—ñ—è –Ω–∏–∂—á–∞, —Å–ø—Ä–æ–±—É—î –æ–Ω–æ–≤–∏—Ç–∏ Flutter —Ç–∞ –≤–∏–≤–µ–¥–µ –ø–æ–º–∏–ª–∫—É
5. –ì–∞—Ä–∞–Ω—Ç—É—î —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ –≤–∏–º–æ–≥–∞–º–∏ –ø—Ä–æ—î–∫—Ç—É

**–ß–æ–º—É `flutter upgrade --force`:**
- –ì–∞—Ä–∞–Ω—Ç—É—î –æ—Å—Ç–∞–Ω–Ω—é —Å—Ç–∞–±—ñ–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é Flutter
- –ó–∞–±–µ–∑–ø–µ—á—É—î Dart SDK 3.9.2+
- –ü—Ä–æ—Å—Ç–µ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó

```yaml
- flutter-installer@0:
    inputs:
    - flutter_version: "latest"
    - is_update: "true"
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ú–æ–∂–µ –±—É—Ç–∏ –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –ø–æ—Å—Ç—ñ–π–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –≤–µ—Ä—Å—ñ—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Dart 3.9.2+

```yaml
- flutter-installer@0:
    inputs:
    - flutter_version: "3.27.0"
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î Dart SDK 3.9.2+
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–µ—Ä—Å—ñ—ó

–ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∫—Ä–æ–∫ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–µ—Ä—Å—ñ—ó –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏:

```yaml
- script@1:
    inputs:
    - content: |
        #!/bin/bash
        flutter --version
        dart --version
        echo "Flutter/Dart versions verified"
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –≤–µ—Ä—Å—ñ–π

### –¢–∞–±–ª–∏—Ü—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ Flutter —Ç–∞ Dart SDK

| Flutter Version | Dart SDK Version | –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ ^3.9.2 |
|----------------|------------------|------------------|
| 3.24.0         | 3.4.0            | ‚ùå               |
| 3.27.0         | 3.9.2+           | ‚úÖ               |
| 3.30.0+        | 3.9.2+           | ‚úÖ               |

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `bitrise.yml` –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º Flutter
2. –ó–∞—Ñ—ñ–∫—Å—É–π—Ç–µ –∑–º—ñ–Ω–∏:
   ```bash
   git add bitrise.yml
   git commit -m "Fix: Add Flutter upgrade step for Dart SDK 3.9.2+ compatibility"
   git push origin main
   ```
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–æ–≤—É –∑–±—ñ—Ä–∫—É –≤ Bitrise
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ø–æ–º–∏–ª–∫–∞ –∑–Ω–∏–∫–ª–∞

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

1. **–í–µ—Ä—Å—ñ—é Flutter –≤ –ø—Ä–æ—î–∫—Ç—ñ:**
   ```bash
   flutter --version
   ```

2. **–í–∏–º–æ–≥–∏ pubspec.yaml:**
   ```yaml
   environment:
     sdk: ^3.9.2
   ```

3. **–ö–µ—à Bitrise:**
   - –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –≤ Bitrise (Cache Pull/Push)
   - –ê–±–æ –≤–∏–º–∫–Ω—ñ—Ç—å –∫–µ—à –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ—ó –∑–±—ñ—Ä–∫–∏

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∑–±—ñ—Ä–∫—É —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

‚úÖ Flutter Install —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è  
‚úÖ Dart SDK –≤–µ—Ä—Å—ñ—è 3.9.2+  
‚úÖ Flutter Test —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–æ–≤  
‚úÖ –ó–±—ñ—Ä–∫–∞ APK —É—Å–ø—ñ—à–Ω–∞  

---

## –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ—Ä—è–¥–∫–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

Bitrise –º–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "Restore Dart Cache"), —è–∫—ñ –Ω–µ –≤–∫–∞–∑–∞–Ω—ñ –≤ `bitrise.yml`. –¢–æ–º—É –≤–∞–∂–ª–∏–≤–æ:

1. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è Flutter –º–∞—î –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –ü–Ü–°–õ–Ø `flutter-installer`
2. ‚úÖ –ö–µ—à –º–∞—î –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –ü–Ü–°–õ–Ø –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Flutter
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó Dart –º–∞—î –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –ü–ï–†–ï–î —Ç–µ—Å—Ç–∞–º–∏

### –ü–æ—Ç–æ—á–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –∫—Ä–æ–∫—ñ–≤:

```
1. flutter-installer@0 (–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó –∑ channel: stable, is_update: true)
2. script: Verify Flutter/Dart versions (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ–π —Ç–∞ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ)
3. cache-pull (–≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–µ—à—É –ü–Ü–°–õ–Ø –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
4. script: Get Flutter dependencies (flutter pub get)
5. flutter-test (—Ç–µ—Å—Ç–∏ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –≤–µ—Ä—Å—ñ—î—é)
```

### –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:

1. **–û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –≤ Bitrise:**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings ‚Üí Caches
   - –í–∏–¥–∞–ª—ñ—Ç—å –≤—Å—ñ –∫–µ—à—ñ –¥–ª—è –ø—Ä–æ—î–∫—Ç—É
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–æ–≤—É –∑–±—ñ—Ä–∫—É

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:**
   - –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∏–≤—ñ–¥ –∑—ñ —Å–∫—Ä–∏–ø—Ç–∞ "Verify Flutter/Dart versions"
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Flutter –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–∞–Ω–∞–ª—É (stable)
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ—Ä—Å—ñ—é Dart (–º–∞—î –±—É—Ç–∏ >= 3.9.2)
   - –Ø–∫—â–æ –≤–µ—Ä—Å—ñ—è –Ω–∏–∂—á–∞, —Å–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ–±—É—î –æ–Ω–æ–≤–∏—Ç–∏ Flutter –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –≤–∫–∞–∑–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –≤–µ—Ä—Å—ñ—é:**
   ```yaml
   - flutter-installer@0:
       inputs:
       - flutter_version: "3.27.0"  # –∞–±–æ —ñ–Ω—à–∞ –≤–µ—Ä—Å—ñ—è –∑ Dart 3.9.2+
   ```

---

**–î–∞—Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 2025  
**–í–µ—Ä—Å—ñ—è:** 1.4

**–û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `channel: stable` —Ç–∞ `is_update: true` –≤ flutter-installer –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó
- –î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤–µ—Ä—Å—ñ—ó Dart –∑ fallback –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Flutter
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É –≤–µ—Ä—Å—ñ–π

